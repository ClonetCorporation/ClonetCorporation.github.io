---
layout: post
title: EC2 인스턴스 생성부터 Jenkins를 이용한 SPA 배포까지 !
---

AWS EC2에 Jenkins를 설치하여, React 앱을 지속적으로 배포가 가능하도록 배포 환경을 구축해볼게요.

다음과 같은 순서로 가이드가 진행될거에요.

1. EC2 인스턴스 생성 및 접속

2. EC2에 JAVA 설치 및 환경변수 설정

3. EC2에 Jenkins 설치

4. React App Git Push

5. Jenkins와 Github 저장소 연결

6. 배포하기

## 1. EC2 인스턴스 생성 및 접속

- Amazon Linnux2 AMI를 선택하세요.

![Alt text](/images/2020-12-17-CICD/EC2-instance-create-1.png)

![Alt text](/images/2020-12-17-CICD/EC2-instance-create-2.png)

[젠킨스 공식 문서](www.jenkins.io/doc/book/scaling/hardware-recommendations/)

Jenkins 공식 사이트 하드웨어 권장 사항이에요.

프로젝트 규모에 따라 메모리 사용 범위가 200MB ~ 70GB이상까지 사용될 수 있고,

각 노드 연결에는 2 ~ 3개의 스레드가 필요하며...

대충 요약하자면 사용자가 알아서 경험하고, 최적의 인스턴스 설정을 찾으라는거 같아요.

- 일반적인 규모의 프로젝트에서 Jenkins를 구동하기 위해서는 최소 **1-2GB**의 램이 필요해요.

넉넉하게 t2.medium이상을 선택하시는 걸 추천할게요.

![Alt text](/images/2020-12-17-CICD/EC2-instance-create-3.png)

- EC2 인스턴스에 접속하기 위해서는 **키 페어 파일**이 필요해요. 키 페어 이름을 입력하고, 키페어 다운로드를 해주세요.

![Alt text](/images/2020-12-17-CICD/EC2-instance-create-4.png)

- 저는 **"deploy-test"** 라는 폴더를 생성하여 키페어 파일을 다운받았어요.

![Alt text](/images/2020-12-17-CICD/EC2-instance-create-5.png)

- 키 페어 다운로드를 마친 후, 인스턴스 시작을 눌러 주세요.

![Alt text](/images/2020-12-17-CICD/EC2-instance-create-6.png)

- 터미널을 키고, 다음 명령어를 입력하세요.

```
$ cd PEM 파일이 있는 폴더
$ sudo ssh -i ./PEM 파일명.pem ec2-user@퍼블릭 IPv4 주소
```

**PEM 파일명** : 5에서 생성한 키페어 파일명입니다.

**퍼블릭 IPv4 주소** : EC2 공개 IP주소입니다. 아래에서 확인할 수 있습니다.

![Alt text](/images/2020-12-17-CICD/EC2-instance-create-7.png)
